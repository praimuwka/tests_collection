# Dynamica

## Обзор

Этот проект - система управления библиотекой, которая позволяет управлять книгами и клиентами. Он предоставляет функциональность для добавления, редактирования и просмотра книг и клиентов. В системе также есть функция для выдачи книг, с предположением, что в библиотеке бесконечно много книг с одним и тем же ISBN.

## Технологии

- **Backend**: Java 1.8, Spring Boot 2.x, Spring Web
- **База данных**: PostgreSQL 14
- **Инструмент сборки**: Maven
- **Frontend**: Thymeleaf для серверного рендеринга
- **Миграция базы данных**: Flyway

## Установка

### Предварительные требования

- JDK 1.8
- Maven

### Деплоймент

1. **БД**: Необходимо подготовить БД postgres с пустой схемой public
2. **Конфигурация**: в файле ```src/main/resources/application.properties``` 
укажите 
   - данные для подключения к БД
   - порт для запуска приложенния
3. **Сборка**: Запустите `mvn package` в директории проекта.
4. **Запуск**: Выполните `java -jar .\target\dynamicatest-1.2.3.jar
   `, чтобы запустить приложение .
5. Откройте приложение по http://localhost:port
6. При использовании приложения вводить даты в формате ```dd.MM.yyyy```. Это необходимо поскольку валидация форм реализована частично

## Функции

### Книги

- **Список**: Просмотр списка всех книг.
- **Добавление**: Добавление новой книги (название, автор, ISBN).
- **Редактирование**: Редактирование данных существующей книги.
- **Выдача**: Регистрация ввыдачи книги пользователю.

### Клиенты

- **Список**: Просмотр списка всех клиентов.
- **Добавление**: Добавление нового клиента (полное имя, дата рождения).
- **Редактирование**: Редактирование данных существующего клиента.

## REST API

Система предоставляет REST API состоящего из 1-го эндпоинта:
- GET ```/api/books/getAllBorrowed``` возвращает JSON данные со всеми клиентами, взявшими книги на прочтение,
включая их полное имя, дату рождения, название книги, автора, ISBN и дату выдачи книги.

Список эндпоинтов доступен для тестирования через **Swagger 2**, расположенный по пути ```/swagger-ui.html```

## TODO
Что можно добавить:

- **Валидация**: Выполнять client-side и server-side проверку форм на  логическую корректность и соответствие формату.
- **AJAX Поиск**: Реализация AJAX-поиска внутри полей select для книг и клиентов, вместо отображения всех доступных опций.
Это позволит более оптимально использовать БД, не запрашивая каждый раз весь массив данных.
- **Аутентификация**: Добавление механизмов аутентификации для защиты приложения.
